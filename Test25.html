<div class="col-md-8 form-group">
    <h5>Topic Covered</h5>
    <textarea id="plan" class="form-control plan" rows="3" style="padding: 10px;font-size:15px;border-radius:5px;border-color: #e51b1e;border-width:2px;"></textarea>

    <!-- Activity Conducted -->
    <div class="form-group" style="border: 1px solid blue; padding: 5px; border-radius: 6px;">
        <h5>Activity Conducted</h5>

        <input type="radio" name="act_condu" value="Teaching"
               onclick="document.getElementById('Teaching').style.display='block';
                        document.getElementById('Assessment').style.display='none';">
        <label>&nbsp;&nbsp;Teaching Learning</label>&nbsp;&nbsp;&nbsp;&nbsp;

        <input type="radio" name="act_condu" value="Assessment"
               onclick="document.getElementById('Teaching').style.display='none';
                        document.getElementById('Assessment').style.display='block';">
        <label>&nbsp;&nbsp;Assessment</label>
    </div>

    <!-- TEACHING SECTION -->
    <div class="form-group" id="Teaching" style="display:none; border: 1px solid red; padding: 5px; border-radius: 6px;">

        <!-- Mode -->
        <div class="form-group" style="border: 1px solid blue; padding: 5px; border-radius: 6px;">
            <h5>Mode of Activity</h5>
            <input type="radio" name="mode_t" value="Online"
                   onclick="document.getElementById('PU_t').style.display='block';
                            document.getElementById('moa_off_t').style.display='none'">
            <label>&nbsp;&nbsp;Online</label>&nbsp;&nbsp;&nbsp;&nbsp;

            <input type="radio" name="mode_t" value="Offline"
                   onclick="document.getElementById('PU_t').style.display='none';
                            document.getElementById('moa_off_t').style.display='block'">
            <label>&nbsp;&nbsp;Offline</label>&nbsp;&nbsp;&nbsp;&nbsp;

            <input type="radio" name="mode_t" value="Blended"
                   onclick="document.getElementById('PU_t').style.display='none';
                            document.getElementById('moa_off_t').style.display='block'">
            <label>&nbsp;&nbsp;Blended</label>
        </div>

        <!-- Platform Used -->
        <div class="form-group" id="PU_t" style="display:none; border: 1px solid red; padding: 5px; border-radius: 6px;">
            <h5>Platform Used</h5>
            <input type="radio" name="pu_t" value="Jostel"
                   onclick="document.getElementById('moa_off_t').style.display='block'">
            <label>&nbsp;&nbsp;Jostel</label>&nbsp;&nbsp;&nbsp;&nbsp;

            <input type="radio" name="pu_t" value="Others"
                   onclick="document.getElementById('moa_off_t').style.display='block'">
            <label>&nbsp;&nbsp;Others</label>
        </div>

        <!-- Pedagogical Approaches -->
        <div class="form-group" id="moa_off_t" style="display:none;">
            <h5>Pedagogical Approaches</h5>
            <select id="peda_appro_t" class="form-control plan">
                <option value="-">Select Pedagogical Approaches</option>
                <option value="Experiential Learning">Experiential Learning</option>
                <option value="Problem-Based Learning">Problem-Based Learning (PBL)</option>
                <option value="Case-Based Learning">Case-Based Learning</option>
                <option value="Collaborative Learning">Collaborative & Cooperative Learning</option>
                <option value="Flipped Classroom">Flipped Classroom</option>
                <option value="Inquiry-Based Learning">Inquiry-Based Learning</option>
                <option value="Workshop-Based">Studio / Workshop-Based Learning</option>
                <option value="Role Play">Role Play and Dramatization</option>
                <option value="Peer Teaching">Peer Teaching and Evaluation</option>
                <option value="Project Based">Project Based Learning</option>
                <option value="Lecture">Lecture Based Learning</option>
                <option value="Others">Others</option>
            </select>
        </div>

        <!-- Others -->
        <div class="form-group" id="oth_ped_t" style="display:none;">
            <h5>Specify Other Pedagogical Approach</h5>
            <textarea id="oth_peda_t" class="form-control plan" rows="3"></textarea>
        </div>

        <!-- Strategy -->
        <div class="form-group" id="ste_used_form_t" style="display:none;">
            <h5>Strategy / Tools / Equipment used</h5>
            <textarea id="ste_used_t" class="form-control plan" rows="3"></textarea>
        </div>
    </div>

    <!-- ASSESSMENT SECTION -->
    <div class="form-group" id="Assessment" style="display:none; border: 1px solid red; padding: 5px; border-radius: 6px;">

        <!-- Mode -->
        <div class="form-group" style="border: 1px solid blue; padding: 5px; border-radius: 6px;">
            <h5>Mode of Activity</h5>
            <input type="radio" name="mode_a" value="Online"
                   onclick="document.getElementById('PU_a').style.display='block';
                            document.getElementById('moa_off_a').style.display='none'">
            <label>&nbsp;&nbsp;Online</label>&nbsp;&nbsp;&nbsp;&nbsp;

            <input type="radio" name="mode_a" value="Offline"
                   onclick="document.getElementById('PU_a').style.display='none';
                            document.getElementById('moa_off_a').style.display='block'">
            <label>&nbsp;&nbsp;Offline</label>&nbsp;&nbsp;&nbsp;&nbsp;

            <input type="radio" name="mode_a" value="Blended"
                   onclick="document.getElementById('PU_a').style.display='none';
                            document.getElementById('moa_off_a').style.display='block'">
            <label>&nbsp;&nbsp;Blended</label>
        </div>

        <!-- Platform -->
        <div class="form-group" id="PU_a" style="display:none; border: 1px solid red; padding: 5px; border-radius: 6px;">
            <h5>Platform Used</h5>
            <input type="radio" name="pu_a" value="Jostel"
                   onclick="document.getElementById('moa_off_a').style.display='block'">
            <label>&nbsp;&nbsp;Jostel</label>&nbsp;&nbsp;&nbsp;&nbsp;

            <input type="radio" name="pu_a" value="Others"
                   onclick="document.getElementById('moa_off_a').style.display='block'">
            <label>&nbsp;&nbsp;Others</label>
        </div>

        <!-- Pedagogical -->
        <div class="form-group" id="moa_off_a" style="display:none;">
            <h5>Pedagogical Approaches</h5>
            <select id="peda_appro_a" class="form-control plan">
                <option value="-">Select Pedagogical Approaches</option>
                <option value="Quizzes (MCQs, Short Answer)">Quizzes (MCQs, Short Answer)</option>
                <option value="Think-Pair-Share">Think Pair Share</option>
                <option value="In-class-Exercises/ProblemSolving">In class Exercises/Problem Solving</option>
                <option value="GroupDiscussions/Seminars">Group Discussions/Seminars</option>
                <option value="Presentations/VivaVoce">Presentations/Viva Voce</option>
                <option value="CaseStudyAnalysis">Case Study Analysis</option>
                <option value="Open-BookExams">Open Book Exams</option>
                <option value="PeerAssessment">Peer Assessment</option>
                <option value="Self-Assessment">Self Assessment</option>
                <option value="RolePlays/Simulations">Role Plays/Simulations</option>
                <option value="GamifiedAssessments/InteractiveQuests">Gamified Assessments Interactive Quests</option>
                <option value="Others">Others</option>
            </select>
        </div>

        <div class="form-group" id="oth_ped_a" style="display:none;">
            <h5>Specify Other Pedagogical Approach</h5>
            <textarea id="oth_peda_a" class="form-control plan" rows="3"></textarea>
        </div>

        <div class="form-group" id="ste_used_form_a" style="display:none;">
            <h5>Strategy / Tools / Equipment used</h5>
            <textarea id="ste_used_a" class="form-control plan" rows="3"></textarea>
        </div>
    </div>
</div>

<script>
    const plan = document.querySelector(".plan");
function handlePedChange(selected, type) {
    const oth = document.getElementById("oth_ped_" + type);
    const ste = document.getElementById("ste_used_form_" + type);

    if (selected === "Others") {
        oth.style.display = "block";
        ste.style.display = "block";
    } else if (selected === "-") {
        oth.style.display = "none";
        ste.style.display = "none";
    } else {
        oth.style.display = "none";
        ste.style.display = "block";
    }
}

// TEACHING
document.getElementById("peda_appro_t").addEventListener("change", function () {
    handlePedChange(this.value, "t");
});

// ASSESSMENT
document.getElementById("peda_appro_a").addEventListener("change", function () {
    handlePedChange(this.value, "a");
});
plan.addEventListener("input", function () {
    let text = plan.value;

    // 1. LIMIT TO 360 CHARACTERS
    if (text.length > 360) {
        alert("Maximum 360 characters allowed.");
        plan.value = text.substring(0, 360);
        return;
    }

    // 2. BLOCK SPECIAL CHARACTERS
    // Allowed: letters, numbers, spaces, comma, dot, hyphen, parentheses, slash
    const allowed = /^[A-Za-z0-9 .,()\/-]*$/;

    if (!allowed.test(text)) {
        alert("Special characters are not allowed.");
        plan.value = text.replace(/[^A-Za-z0-9 .,()\/-]/g, "");
    }
});
</script>